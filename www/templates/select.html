<ion-view title="Select">

  <div class="bar bar-subheader item-input-inset">
    <label class="item-input-wrapper">
      <i class="icon ion-ios7-search placeholder-icon"></i>
        <input id="searchKey" type="search" placeholder="Search" ng-model="searchKey" autocorrect="off" >
          <button class="button button-clear" ng-click="clearSearch()">X</button>
    </label>
    <button class="button button-clear" ng-click="search()">Search</button>
  </div>

  <ion-content class="has-header has-subheader" ng-controller="ThisCtrl">
    
    <div class="row">
      <div class="col">
        <form id="fileform" action="">
          <input type="file" name="fileField" class="button"><br /><br />
          <input type="submit" name="submit" id="submit" value="사진인식" class="button button-outline button-assertive" ng-click="modal.show()">
        </form>
        <!-- <code style="white-space:pre" id="results"></code> -->
        <!-- <p>{{results.responses.labelAnnotaions.desciption}}</p> -->
        <!-- <img src="{{ current_image }}" class="picture">
        <h3 class="text-center" ng-show="image_description">{{ image_description }}</h3>
        <button class="button button-positive button-block" ng-click="takePicture()">
        Take Picture
        </button> -->
      </div>
    </div>
    <div class="row">
      <div class="col">
	      <ul class="list list-inset">
	      	<ion-list>
            <div class="item item-divider">
              <i class="icon ion-pizza"></i>
              재료 목록
            </div>
	      		<ion-item ng-repeat="ingredient in ingredients" type="item-text-wrap" ng-click="addItem(ingredient)">
            {{ingredient.name}}
          </ion-item>
	      	</ion-list>

	      	</ion-list>
	      </ul>
    	</div>
    
	    <div class="col">
	      <ul class="list list-inset">
	      	<ion-list show-delete="true">
            <div class="item item-divider">
              <i class="icon ion-icecream"></i>
              선택된 재료
            </div>
						<ion-item ng-repeat="selected_ingredient in selected_ingredients" item="selected_ingredient" href="#/selected_ingredient/{{selected_ingredient.id}}" type="item-text-wrap" class="item-remove-animate">
            {{selected_ingredient.name}}
            <ion-delete-button class="ion-minus-circled" ng-click="onItemDelete(selected_ingredient)">
            </ion-delete-button>
          </ion-item>
        	</ion-list>
	      </ul>
	    </div>
  	</div>
  </ion-content>
  <script id="my-modal.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar class="bar bar-header bar-balanced">
        <h1 class="title">Result</h1>
        <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
      </ion-header-bar>
      <ion-content>
        <ion-list>
          <ion-item ng-repeat="visionResult in visionResults" type="item-text-wrap" ng-click="addItem(visionResult); modal.hide()">
            {{visionResult.name}}
          </ion-item>
          <!-- <ion-item ng-repeat="ingredient in ingredients" type="item-text-wrap" href="#/ingredient/{{ingredient.id}}" ng-click="addItem(ingredient)">
            {{ingredient.name}}
          </ion-item> -->
        </ion-list>
      </ion-content>
    </ion-modal-view>
  </script>
  <ion-footer-bar class="bar-energized">
    <div class="title">
      <a class="button button-full button-clear button-dark item item-icon-right" nav-transition="none" href="#/search">재료 선택 완료</a>
    </div>
  </ion-footer-bar>
</ion-view>